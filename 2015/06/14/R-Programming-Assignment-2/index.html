<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>




  <link rel="stylesheet" type="text/css" href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.2"/>


    <meta name="description" content="匆忙世间的闲人。" />



	<meta name="keywords" content="R," />
	


    <link rel="alternate" href="/atom.xml" title="小默的博客" type="application/atom+xml" />



    <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.2" />



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?99006bde90fd9672ff2dd2ebcd1aaf7e";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>

  <title> R Programming Assignment 2: Lexical Scoping // 小默的博客 </title>
</head>

<body>
  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">小默的博客</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>


  <ul id="menu" class="menu">
     
    <!--增加swiftype搜索功能-->
    <form class="menu-item menu-item-">
      <input type="text" id="st-search-input" class="st-search-input" style="width:80px;"  />
    </form>
    
    <script type="text/javascript">
    (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
    })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

    _st('install','q3oXszmqgzDdD3RJmGAt');
    </script>
    <!--增加swiftype搜索功能end-->
    
    
      
      <li class="menu-item menu-item-home">
        <a href="/">
          <i class="menu-item-icon icon-home"></i> <br />
          首页
        </a>
      </li>
    
      
      <li class="menu-item menu-item-categories">
        <a href="/categories">
          <i class="menu-item-icon icon-categories"></i> <br />
          分类
        </a>
      </li>
    
      
      <li class="menu-item menu-item-archives">
        <a href="/archives">
          <i class="menu-item-icon icon-archives"></i> <br />
          归档
        </a>
      </li>
    
      
      <li class="menu-item menu-item-tags">
        <a href="/tags">
          <i class="menu-item-icon icon-tags"></i> <br />
          标签
        </a>
      </li>
    
      
      <li class="menu-item menu-item-about">
        <a href="/about">
          <i class="menu-item-icon icon-about"></i> <br />
          关于
        </a>
      </li>
    
  </ul>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          

  <div id="posts" class="posts-expand">
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              R Programming Assignment 2: Lexical Scoping
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-06-14
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/技术分享/">技术分享</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/06/14/R-Programming-Assignment-2/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/06/14/R-Programming-Assignment-2/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        <h2 id="Introduction">Introduction</h2><p>This second programming assignment will require you to write an R function is able to cache potentially time-consuming computations. For example, taking the mean of a numeric vector is typically a fast operation. However, for a very long vector, it may take too long to compute the mean, especially if it has to be computed repeatedly (e.g. in a loop). If the contents of a vector are not changing, it may make sense to cache the value of the mean so that when we need it again, it can be looked up in the cache rather than recomputed. In this Programming Assignment will take advantage of the scoping rules of the R language and how they can be manipulated to preserve state inside of an R object.</p>
<a id="more"></a>
<h2 id="Example:_Caching_the_Mean_of_a_Vector">Example: Caching the Mean of a Vector</h2><p>In this example we introduce the &lt;&lt;- operator which can be used to assign a value to an object in an environment that is different from the current environment. Below are two functions that are used to create a special object that stores a numeric vector and caches its mean.</p>
<p>The first function, makeVector creates a special “vector”, which is really a list containing a function to</p>
<ol>
<li>set the value of the vector</li>
<li>get the value of the vector</li>
<li>set the value of the mean</li>
<li>get the value of the mean</li>
</ol>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">makeVector &lt;- <span class="function"><span class="keyword">function</span>(<span class="title">x</span> = <span class="title">numeric</span>()) &#123;</span></span><br><span class="line">        m &lt;- <span class="constant">NULL</span></span><br><span class="line">        <span class="built_in">set</span> &lt;- <span class="function"><span class="keyword">function</span>(<span class="title">y</span>) &#123;</span></span><br><span class="line">                x &lt;&lt;- y</span><br><span class="line">                m &lt;&lt;- <span class="constant">NULL</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">get</span> &lt;- <span class="function"><span class="keyword">function</span>() <span class="title">x</span></span></span><br><span class="line">        setmean &lt;- <span class="function"><span class="keyword">function</span>(<span class="title">mean</span>) <span class="title">m</span> &lt;&lt;- <span class="title">mean</span></span></span><br><span class="line">        getmean &lt;- <span class="function"><span class="keyword">function</span>() <span class="title">m</span></span></span><br><span class="line">        list(<span class="built_in">set</span> = <span class="built_in">set</span>, <span class="built_in">get</span> = <span class="built_in">get</span>,</span><br><span class="line">             setmean = setmean,</span><br><span class="line">             getmean = getmean)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The following function calculates the mean of the special “vector” created with the above function. However, it first checks to see if the mean has already been calculated. If so, it gets the mean from the cache and skips the computation. Otherwise, it calculates the mean of the data and sets the value of the mean in the cache via the setmean function.</p>
<figure class="highlight stata"><table><tr><td class="code"><pre><span class="line">cachemean &lt;- function(x, ...) &#123;</span><br><span class="line">        <span class="keyword">m</span> &lt;- x<span class="label">$getmean</span>()</span><br><span class="line">        <span class="keyword">if</span>(!is.null(<span class="keyword">m</span>)) &#123;</span><br><span class="line">                message(<span class="string">"getting cached data"</span>)</span><br><span class="line">                <span class="literal">return</span>(<span class="keyword">m</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        data &lt;- x<span class="label">$get</span>()</span><br><span class="line">        <span class="keyword">m</span> &lt;- <span class="keyword">mean</span>(data, ...)</span><br><span class="line">        x<span class="label">$setmean</span>(<span class="keyword">m</span>)</span><br><span class="line">        <span class="literal">m</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Assignment:_Caching_the_Inverse_of_a_Matrix">Assignment: Caching the Inverse of a Matrix</h2><p>Matrix inversion is usually a costly computation and there may be some benefit to caching the inverse of a matrix rather than compute it repeatedly (there are also alternatives to matrix inversion that we will not discuss here). Your assignment is to write a pair of functions that cache the inverse of a matrix.</p>
<p>Write the following functions:</p>
<ol>
<li>makeCacheMatrix: This function creates a special “matrix” object that can cache its inverse.</li>
<li>cacheSolve: This function computes the inverse of the special “matrix” returned by makeCacheMatrix above. If the inverse has already been calculated (and the matrix has not changed), then the cacheSolve should retrieve the inverse from the cache.</li>
</ol>
<p>Computing the inverse of a square matrix can be done with the solve function in R. For example, if X is a square invertible matrix, then solve(X) returns its inverse.</p>
<p>For this assignment, assume that the matrix supplied is always invertible.</p>
<hr>
<h2 id="My_Solution">My Solution</h2><h3 id="Functions">Functions</h3><p>cachematrix.R:</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line"><span class="comment">## Caching the Inverse of a Matrix:</span></span><br><span class="line"><span class="comment">## Matrix inversion is usually a costly computation and there may be some </span></span><br><span class="line"><span class="comment">## benefit to caching the inverse of a matrix rather than compute it repeatedly.</span></span><br><span class="line"><span class="comment">## Below are a pair of functions that are used to create a special object that </span></span><br><span class="line"><span class="comment">## stores a matrix and caches its inverse.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## This function creates a special "matrix" object that can cache its inverse.</span></span><br><span class="line"></span><br><span class="line">makeCacheMatrix &lt;- <span class="function"><span class="keyword">function</span>(<span class="title">x</span> = <span class="title">matrix</span>()) &#123;</span></span><br><span class="line">        inv &lt;- <span class="constant">NULL</span></span><br><span class="line">        <span class="built_in">set</span> &lt;- <span class="function"><span class="keyword">function</span>(<span class="title">y</span>) &#123;</span></span><br><span class="line">                x &lt;&lt;- y</span><br><span class="line">                inv &lt;&lt;- <span class="constant">NULL</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">get</span> &lt;- <span class="function"><span class="keyword">function</span>() <span class="title">x</span></span></span><br><span class="line">        setInverse &lt;- <span class="function"><span class="keyword">function</span>(<span class="title">inverse</span>) <span class="title">inv</span> &lt;&lt;- <span class="title">inverse</span></span></span><br><span class="line">        getInverse &lt;- <span class="function"><span class="keyword">function</span>() <span class="title">inv</span></span></span><br><span class="line">        list(<span class="built_in">set</span> = <span class="built_in">set</span>,</span><br><span class="line">             <span class="built_in">get</span> = <span class="built_in">get</span>,</span><br><span class="line">             setInverse = setInverse,</span><br><span class="line">             getInverse = getInverse)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## This function computes the inverse of the special "matrix" created by </span></span><br><span class="line"><span class="comment">## makeCacheMatrix above. If the inverse has already been calculated (and the </span></span><br><span class="line"><span class="comment">## matrix has not changed), then it should retrieve the inverse from the cache.</span></span><br><span class="line"></span><br><span class="line">cacheSolve &lt;- <span class="function"><span class="keyword">function</span>(<span class="title">x</span>, ...) &#123;</span></span><br><span class="line">        <span class="comment">## Return a matrix that is the inverse of 'x'</span></span><br><span class="line">        inv &lt;- x$getInverse()</span><br><span class="line">        <span class="keyword">if</span> (!is.<span class="constant">null</span>(inv)) &#123;</span><br><span class="line">                message(<span class="string">"getting cached data"</span>)</span><br><span class="line">                <span class="constant">return</span>(inv)</span><br><span class="line">        &#125;</span><br><span class="line">        mat &lt;- x$<span class="built_in">get</span>()</span><br><span class="line">        inv &lt;- solve(mat, ...)</span><br><span class="line">        x$setInverse(inv)</span><br><span class="line">        inv</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Testing_My_Functions">Testing My Functions</h3><figure class="highlight prolog"><table><tr><td class="code"><pre><span class="line">&gt; <span class="atom">source</span>(<span class="string">"ProgrammingAssignment2/cachematrix.R"</span>)</span><br><span class="line">&gt; <span class="atom">my_matrix</span> &lt;- <span class="atom">makeCacheMatrix</span>(<span class="atom">matrix</span>(<span class="number">1</span>:<span class="number">4</span>, <span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line">&gt; <span class="atom">my_matrix</span>$<span class="atom">get</span>()</span><br><span class="line">     [,<span class="number">1</span>] [,<span class="number">2</span>]</span><br><span class="line">[<span class="number">1</span>,]    <span class="number">1</span>    <span class="number">3</span></span><br><span class="line">[<span class="number">2</span>,]    <span class="number">2</span>    <span class="number">4</span></span><br><span class="line">&gt; <span class="atom">my_matrix</span>$<span class="atom">getInverse</span>()</span><br><span class="line"><span class="name">NULL</span></span><br><span class="line">&gt; <span class="atom">cacheSolve</span>(<span class="atom">my_matrix</span>)</span><br><span class="line">     [,<span class="number">1</span>] [,<span class="number">2</span>]</span><br><span class="line">[<span class="number">1</span>,]   -<span class="number">2</span>  <span class="number">1.5</span></span><br><span class="line">[<span class="number">2</span>,]    <span class="number">1</span> -<span class="number">0.5</span></span><br><span class="line">&gt; <span class="atom">cacheSolve</span>(<span class="atom">my_matrix</span>)</span><br><span class="line"><span class="atom">getting</span> <span class="atom">cached</span> <span class="atom">data</span></span><br><span class="line">     [,<span class="number">1</span>] [,<span class="number">2</span>]</span><br><span class="line">[<span class="number">1</span>,]   -<span class="number">2</span>  <span class="number">1.5</span></span><br><span class="line">[<span class="number">2</span>,]    <span class="number">1</span> -<span class="number">0.5</span></span><br><span class="line">&gt; <span class="atom">my_matrix</span>$<span class="atom">getInverse</span>()</span><br><span class="line">     [,<span class="number">1</span>] [,<span class="number">2</span>]</span><br><span class="line">[<span class="number">1</span>,]   -<span class="number">2</span>  <span class="number">1.5</span></span><br><span class="line">[<span class="number">2</span>,]    <span class="number">1</span> -<span class="number">0.5</span></span><br><span class="line">&gt; <span class="atom">my_matrix</span>$<span class="atom">set</span>(<span class="atom">matrix</span>(<span class="atom">c</span>(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>), <span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line">&gt; <span class="atom">my_matrix</span>$<span class="atom">get</span>()</span><br><span class="line">     [,<span class="number">1</span>] [,<span class="number">2</span>]</span><br><span class="line">[<span class="number">1</span>,]    <span class="number">2</span>    <span class="number">1</span></span><br><span class="line">[<span class="number">2</span>,]    <span class="number">2</span>    <span class="number">4</span></span><br><span class="line">&gt; <span class="atom">my_matrix</span>$<span class="atom">getInverse</span>()</span><br><span class="line"><span class="name">NULL</span></span><br><span class="line">&gt; <span class="atom">cacheSolve</span>(<span class="atom">my_matrix</span>)</span><br><span class="line">           [,<span class="number">1</span>]       [,<span class="number">2</span>]</span><br><span class="line">[<span class="number">1</span>,]  <span class="number">0.6666667</span> -<span class="number">0.1666667</span></span><br><span class="line">[<span class="number">2</span>,] -<span class="number">0.3333333</span>  <span class="number">0.3333333</span></span><br><span class="line">&gt; <span class="atom">cacheSolve</span>(<span class="atom">my_matrix</span>)</span><br><span class="line"><span class="atom">getting</span> <span class="atom">cached</span> <span class="atom">data</span></span><br><span class="line">           [,<span class="number">1</span>]       [,<span class="number">2</span>]</span><br><span class="line">[<span class="number">1</span>,]  <span class="number">0.6666667</span> -<span class="number">0.1666667</span></span><br><span class="line">[<span class="number">2</span>,] -<span class="number">0.3333333</span>  <span class="number">0.3333333</span></span><br><span class="line">&gt; <span class="atom">my_matrix</span>$<span class="atom">getInverse</span>()</span><br><span class="line">           [,<span class="number">1</span>]       [,<span class="number">2</span>]</span><br><span class="line">[<span class="number">1</span>,]  <span class="number">0.6666667</span> -<span class="number">0.1666667</span></span><br><span class="line">[<span class="number">2</span>,] -<span class="number">0.3333333</span>  <span class="number">0.3333333</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Another_Useful_Example">Another Useful Example</h2><p>A good example for getting a better understanding of differences amount <strong>formal parameters, local variables and free variables</strong>. And it is also helpful for learning the <strong>&lt;&lt;-</strong> operator.</p>
<p>open.account.R:</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">open</span>.account &lt;- <span class="function"><span class="keyword">function</span><span class="params">(total)</span> &#123;</span></span><br><span class="line">        <span class="keyword">list</span>(</span><br><span class="line">                deposit = <span class="function"><span class="keyword">function</span><span class="params">(amount)</span> &#123;</span></span><br><span class="line">                        <span class="keyword">if</span>(amount &lt;= <span class="number">0</span>)</span><br><span class="line">                                <span class="keyword">stop</span>(<span class="string">"Deposits must be positive!\n"</span>)</span><br><span class="line">                        total &lt;&lt;- total + amount</span><br><span class="line">                        <span class="keyword">cat</span>(amount, <span class="string">"deposited.  Your balance is"</span>, total, <span class="string">"\n\n"</span>)</span><br><span class="line">                &#125;,</span><br><span class="line">                withdraw = <span class="function"><span class="keyword">function</span><span class="params">(amount)</span> &#123;</span></span><br><span class="line">                        <span class="keyword">if</span>(amount &gt; total)</span><br><span class="line">                                <span class="keyword">stop</span>(<span class="string">"You don't have that much money!\n"</span>)</span><br><span class="line">                        total &lt;&lt;- total - amount</span><br><span class="line">                        <span class="keyword">cat</span>(amount, <span class="string">"withdrawn.  Your balance is"</span>, total, <span class="string">"\n\n"</span>)</span><br><span class="line">                &#125;,</span><br><span class="line">                balance = <span class="function"><span class="keyword">function</span><span class="params">()</span> &#123;</span></span><br><span class="line">                        <span class="keyword">cat</span>(<span class="string">"Your balance is"</span>, total, <span class="string">"\n\n"</span>)</span><br><span class="line">                &#125;</span><br><span class="line">        )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Simple tests for open.account function:</p>
<figure class="highlight stata"><table><tr><td class="code"><pre><span class="line">&gt; peter &lt;- <span class="keyword">open</span>.account(100)</span><br><span class="line">&gt; mm &lt;- <span class="keyword">open</span>.account(200)</span><br><span class="line">&gt; peter<span class="label">$withdraw</span>(30)</span><br><span class="line">30 withdrawn.  Your balance is 70 </span><br><span class="line"></span><br><span class="line">&gt; peter<span class="label">$balance</span>()</span><br><span class="line">Your balance is 70</span><br><span class="line"></span><br><span class="line">&gt; mm<span class="label">$balance</span>()</span><br><span class="line">Your balance is 200 </span><br><span class="line"></span><br><span class="line">&gt; peter<span class="label">$deposit</span>(50)</span><br><span class="line">50 deposited.  Your balance is 120 </span><br><span class="line"></span><br><span class="line">&gt; peter<span class="label">$balance</span>()</span><br><span class="line">Your balance is 120 </span><br><span class="line"></span><br><span class="line">&gt; peter<span class="label">$withdraw</span>(500)</span><br><span class="line"><span class="keyword">Error</span> <span class="keyword">in</span> peter<span class="label">$withdraw</span>(500) : You don't have that much money!</span><br><span class="line">&gt; mm<span class="label">$balance</span>()</span><br><span class="line">Your balance is 200</span><br><span class="line"></span><br><span class="line">&gt; mm<span class="label">$withdraw</span>(12)</span><br><span class="line">12 withdrawn.  Your balance is 188 </span><br><span class="line"></span><br><span class="line">&gt; mm<span class="label">$balance</span>()</span><br><span class="line">Your balance is 188 </span><br><span class="line"></span><br><span class="line">&gt; peter<span class="label">$balance</span>()</span><br><span class="line">Your balance is 120</span><br></pre></td></tr></table></figure>
<p>More information about <a href="http://cran.r-project.org/doc/manuals/R-intro.html#DOCF23" target="_blank" rel="external">Scope</a>.</p>

      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/R/"> #R </a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/06/15/烈日下的沉醉/">烈日下的沉醉</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/06/13/听俞敏洪讲座的思与悟/">听俞敏洪讲座的思与悟</a>
            
          </div>
        </div>
      

      
      
    </div>
  </div>



    
      <div class="comments" id="comments">
        
          <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          </div>
        
      </div>
    
  </div>


        </div>
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="xmuxiaomo" />
          <p class="site-author-name">xmuxiaomo</p>
        </div>
        <p class="site-description motion-element">匆忙世间的闲人。</p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">382</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">12</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">82</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </div>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml">
              <i class="menu-item-icon icon-feed"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
              <a href="https://github.com/xmuxiaomo" target="_blank">github</a>
            </span>
            
              <span class="links-of-author-item">
              <a href="http://weibo.com/u/2457084784" target="_blank">weibo</a>
            </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

      </div>

      
        <div class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Example:_Caching_the_Mean_of_a_Vector"><span class="nav-number">2.</span> <span class="nav-text">Example: Caching the Mean of a Vector</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Assignment:_Caching_the_Inverse_of_a_Matrix"><span class="nav-number">3.</span> <span class="nav-text">Assignment: Caching the Inverse of a Matrix</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#My_Solution"><span class="nav-number">4.</span> <span class="nav-text">My Solution</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Functions"><span class="nav-number">4.1.</span> <span class="nav-text">Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Testing_My_Functions"><span class="nav-number">4.2.</span> <span class="nav-text">Testing My Functions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Another_Useful_Example"><span class="nav-number">5.</span> <span class="nav-text">Another Useful Example</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </div>
      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2024
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">xmuxiaomo</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.content img').each(function () {
        var $image = $(this);
        var $imageWrapLink = $image.parent('a');

        if ($imageWrapLink.size() < 1) {
          $imageWrapLink = $image.wrap('<a href="' + this.getAttribute('src') + '"></a>').parent('a');
        }
        $imageWrapLink.addClass('fancybox');
      });
    });
    $('.fancybox').fancybox({
      helpers: {
        overlay: {
          locked: false
        }
      }
    });
  </script>


  <script type="text/javascript">
  function hasMobileUA () {
    var nav = window.navigator;
    var ua = nav.userAgent;
    var pa = /iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g;

    return pa.test(ua);
  }

  function isDesktop () {
    return screen.width > 991 && !hasMobileUA();
  }

  function isTablet () {
    return screen.width < 992 && screen.width > 767 && hasMobileUA();
  }

  function isMobile () {
    return screen.width < 767 && hasMobileUA();
  }

  function escapeSelector (selector) {
    return selector.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, "\\$&")
  }
</script>

  

  <script type="text/javascript" src="/lib/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" id="motion.global">
  $(document).ready(function () {
    var body = $('body');
    var isSidebarVisible = false;
    var sidebarToggle = $('.sidebar-toggle');
    var sidebarToggleLine1st = $('.sidebar-toggle-line-first')
    var sidebarToggleLine2nd = $('.sidebar-toggle-line-middle');
    var sidebarToggleLine3rd = $('.sidebar-toggle-line-last');
    var sidebar = $('.sidebar');

    var SIDEBAR_WIDTH = '320px';
    var SIDEBAR_DISPLAY_DURATION = 300;

    var sidebarToogleLineStatusInit = {width: '100%', opacity: 1, left: 0, rotateZ: 0, top: 0};

    var sidebarToggleLine1stStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine1stStatusArrow = {width: '50%', rotateZ: '-45deg', top: '2px'};
    var sidebarToogleLine1stStatusClose = {width: '100%', rotateZ: '-45deg', top: '5px'};

    var sidebarToggleLine2ndStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine2ndStatusArrow = {width: '90%'};
    var sidebarToogleLine2ndStatusClose = {opacity: 0};

    var sidebarToggleLine3rdStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine3rdStatusArrow = {width: '50%', rotateZ: '45deg', top: '-2px'};
    var sidebarToogleLine3rdStatusClose = {width: '100%', rotateZ: '45deg', top: '-5px'};

    LogoAndMenuMotion();
    sidebatToggleMotion();
    postsListMotion();
    backToTopMotion();


    $(document)
      .on('sidebar.isShowing', function () {
        isDesktop() && body.velocity(
          {paddingRight: SIDEBAR_WIDTH},
          SIDEBAR_DISPLAY_DURATION
        );
        sidebarContentMotion();
      })
      .on('sidebar.isHiding', function () {});

    function LogoAndMenuMotion() {
      $.Velocity.RunSequence([
        { e: $('.brand'), p: { opacity: 1 }, o: { duration: 100 } },
        { e: $('.logo'), p: { opacity: 1, top: 0 }, o: { duration: 50} },
        
        { e: $('.logo-line-before i'), p: { translateX: "100%" }, o: { duration: 500, sequenceQueue: false } },
        { e: $('.logo-line-after i'), p: { translateX: "-100%" }, o: { duration: 500, sequenceQueue: false } },
        
        { e: $('.site-title'), p: { opacity: 1, top: 0 }, o: { duration: 200 } }
      ]);
      $('.menu-item').velocity('transition.slideDownIn', {display: null});
    }


    function backToTopMotion () {
      var b2top = $('.back-to-top');
      b2top.on('click', function () {
        body.velocity('scroll');
      });
    }

    function sidebarShowMotion () {

      sidebarToggleLine1st.velocity(sidebarToogleLine1stStatusClose);
      sidebarToggleLine2nd.velocity(sidebarToogleLine2ndStatusClose);
      sidebarToggleLine3rd.velocity(sidebarToogleLine3rdStatusClose);

      sidebar.velocity({width: SIDEBAR_WIDTH}, {
        display: 'block',
        duration: SIDEBAR_DISPLAY_DURATION,
        complete: function () {
          sidebar.addClass('sidebar-active');
          sidebar.trigger('sidebar.didShow');
        }
      });
      sidebar.trigger('sidebar.isShowing');
    }

    function sidebarHideMotion () {
      isDesktop() && body.velocity({paddingRight: 0});
      sidebar.velocity('reverse');

      sidebarToggleLine1st.velocity(sidebarToggleLine1stStatusInit);
      sidebarToggleLine2nd.velocity(sidebarToggleLine2ndStatusInit);
      sidebarToggleLine3rd.velocity(sidebarToggleLine3rdStatusInit);

      sidebar.removeClass('sidebar-active');
      sidebar.trigger('sidebar.isHiding');
    };

    function sidebarContentMotion () {
      $('.sidebar .motion-element').velocity(
        'transition.slideRightIn',
        {stagger: 50, drag: true}
      );
    }

    function postsListMotion () {
      var postMotionOptions = window.postMotionOptions || {stagger: 300, drag: true};
      $('.post').velocity('transition.slideDownIn', postMotionOptions);
    }

    function sidebatToggleMotion () {
      sidebarToggle.on('click', function () {
        isSidebarVisible ? sidebarHideMotion() : sidebarShowMotion();
        isSidebarVisible = !isSidebarVisible;
      });

      sidebarToggle.hover(function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusArrow);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusArrow);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusArrow);
      }, function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusInit);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusInit);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusInit);
      });
    }
  });

</script>





  
  
<script type="text/javascript" id="bootstrap.scrollspy.custom">
  /* ========================================================================
  * Bootstrap: scrollspy.js v3.3.2
  * http://getbootstrap.com/javascript/#scrollspy
  * ========================================================================
  * Copyright 2011-2015 Twitter, Inc.
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  * ======================================================================== */

  /**
   * Custom by iissnan
   *
   * - Add a `clear.bs.scrollspy` event.
   * - Esacpe targets selector.
   */


  +function ($) {
    'use strict';

    // SCROLLSPY CLASS DEFINITION
    // ==========================

    function ScrollSpy(element, options) {
      this.$body          = $(document.body)
      this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)
      this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)
      this.selector       = (this.options.target || '') + ' .nav li > a'
      this.offsets        = []
      this.targets        = []
      this.activeTarget   = null
      this.scrollHeight   = 0

      this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))
      this.refresh()
      this.process()
    }

    ScrollSpy.VERSION  = '3.3.2'

    ScrollSpy.DEFAULTS = {
      offset: 10
    }

    ScrollSpy.prototype.getScrollHeight = function () {
      return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
    }

    ScrollSpy.prototype.refresh = function () {
      var that          = this
      var offsetMethod  = 'offset'
      var offsetBase    = 0

      this.offsets      = []
      this.targets      = []
      this.scrollHeight = this.getScrollHeight()

      if (!$.isWindow(this.$scrollElement[0])) {
        offsetMethod = 'position'
        offsetBase   = this.$scrollElement.scrollTop()
      }

      this.$body
        .find(this.selector)
        .map(function () {
          var $el   = $(this)
          var href  = $el.data('target') || $el.attr('href')
          var $href = /^#./.test(href) && $(escapeSelector(href)) // Need to escape selector.

          return ($href
            && $href.length
            && $href.is(':visible')
            && [[$href[offsetMethod]().top + offsetBase, href]]) || null
        })
        .sort(function (a, b) { return a[0] - b[0] })
        .each(function () {
          that.offsets.push(this[0])
          that.targets.push(this[1])
        })


    }

    ScrollSpy.prototype.process = function () {
      var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset
      var scrollHeight = this.getScrollHeight()
      var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()
      var offsets      = this.offsets
      var targets      = this.targets
      var activeTarget = this.activeTarget
      var i

      if (this.scrollHeight != scrollHeight) {
        this.refresh()
      }

      if (scrollTop >= maxScroll) {
        return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)
      }

      if (activeTarget && scrollTop < offsets[0]) {
        $(this.selector).trigger('clear.bs.scrollspy')  // Add a custom event.
        this.activeTarget = null
        return this.clear()
      }

      for (i = offsets.length; i--;) {
        activeTarget != targets[i]
          && scrollTop >= offsets[i]
          && (!offsets[i + 1] || scrollTop <= offsets[i + 1])
          && this.activate(targets[i])
      }
    }

    ScrollSpy.prototype.activate = function (target) {
      this.activeTarget = target

      this.clear()

      var selector = this.selector +
        '[data-target="' + target + '"],' +
        this.selector + '[href="' + target + '"]'

      var active = $(selector)
        .parents('li')
        .addClass('active')

      if (active.parent('.dropdown-menu').length) {
        active = active
          .closest('li.dropdown')
          .addClass('active')
      }

      active.trigger('activate.bs.scrollspy')
    }

    ScrollSpy.prototype.clear = function () {
      $(this.selector)
        .parentsUntil(this.options.target, '.active')
        .removeClass('active')
    }


    // SCROLLSPY PLUGIN DEFINITION
    // ===========================

    function Plugin(option) {
      return this.each(function () {
        var $this   = $(this)
        var data    = $this.data('bs.scrollspy')
        var options = typeof option == 'object' && option

        if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))
        if (typeof option == 'string') data[option]()
      })
    }

    var old = $.fn.scrollspy

    $.fn.scrollspy             = Plugin
    $.fn.scrollspy.Constructor = ScrollSpy


    // SCROLLSPY NO CONFLICT
    // =====================

    $.fn.scrollspy.noConflict = function () {
      $.fn.scrollspy = old
      return this
    }


    // SCROLLSPY DATA-API
    // ==================

    $(window).on('load.bs.scrollspy.data-api', function () {
      $('[data-spy="scroll"]').each(function () {
        var $spy = $(this)
        Plugin.call($spy, $spy.data())
      })
    })

  }(jQuery);
</script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var $sidebarInner = $('.sidebar-inner');
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.didShow', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;
          var self = this;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      $(indicator).velocity('stop').velocity({
        opacity: action === 'show' ? 0.4 : 0
      }, { duration: 100 });
    }

  });
</script>


  <script type="text/javascript" id="sidebar.nav">
    $(document).ready(function () {
      var html = $('html');

      $('.sidebar-nav li').on('click', function () {
        var item = $(this);
        var activeTabClassName = 'sidebar-nav-active';
        var activePanelClassName = 'sidebar-panel-active';
        if (item.hasClass(activeTabClassName)) {
          return;
        }

        var currentTarget = $('.' + activePanelClassName);
        var target = $('.' + item.data('target'));

        currentTarget.velocity('transition.slideUpOut', 200, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', 200)
            .addClass(activePanelClassName);
        });

        item.siblings().removeClass(activeTabClassName);
        item.addClass(activeTabClassName);
      });

      $('.post-toc a').on('click', function (e) {
        e.preventDefault();
        var offset = $(escapeSelector(this.getAttribute('href'))).offset().top;
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        });
      });

      // Expand sidebar on post detail page by default, when post has a toc.
      var $tocContent = $('.post-toc-content');
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0 && isDesktop()) {
        setTimeout(function () {
          $('.sidebar-toggle').trigger('click');
        }, 800);
      }
    });
  </script>




  
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  
  
  

  

    
      
    

    <script type="text/javascript">
      var disqus_shortname = 'xmuxiaomo';
      var disqus_identifier = '2015/06/14/R-Programming-Assignment-2/';
      var disqus_url = 'http://xmuxiaomo.github.io/2015/06/14/R-Programming-Assignment-2/';

      (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }());
    </script>
  




  
</body>
</html>
